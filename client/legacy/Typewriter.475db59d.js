import{_ as t,a as e,b as n,c as r,i as a,s as o,d as c,S as u,z as s,f as i,k as f,l,h as p,A as d,o as v,B as h,p as x,v as m,C as b,w as y,x as k,D as g,E as w,F as C,G as N,H as E,I as S}from"./client.76e6f547.js";function $(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,o=e(t);if(r){var c=e(this).constructor;a=Reflect.construct(o,arguments,c)}else a=o.apply(this,arguments);return n(this,a)}}function I(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){u=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw o}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j(t){var e,n,r=t[6].default,a=s(r,t,t[5],null);return{c:function(){e=i("div"),a&&a.c(),this.h()},l:function(t){e=f(t,"DIV",{style:!0,class:!0});var n=l(e);a&&a.l(n),n.forEach(p),this.h()},h:function(){d(e,"--cursor-color","string"==typeof t[0]?t[0]:"black"),v(e,"class","svelte-1jxt921"),h(e,"cursor",t[0])},m:function(r,o){x(r,e,o),a&&a.m(e,null),t[7](e),n=!0},p:function(t,o){var c=m(o,1)[0];a&&a.p&&32&c&&b(a,r,t,t[5],c,null,null),(!n||1&c)&&d(e,"--cursor-color","string"==typeof t[0]?t[0]:"black"),1&c&&h(e,"cursor",t[0])},i:function(t){n||(y(a,t),n=!0)},o:function(t){k(a,t),n=!1},d:function(n){n&&p(e),a&&a.d(n),t[7](null)}}}function T(t,e,n){var r,a=e.mode,o=void 0===a?"default":a,c=e.interval,u=void 0===c?30:c,s=e.loopInterval,i=void 0===s?1500:s,f=e.cursor,l=void 0===f||f,p=[],d=g(),v=function(t){return new Promise((function(e){return setTimeout(e,t)}))},h=function(t){return 1===t.childNodes.length&&3===t.childNodes[0].nodeType},x=function(){var t=E(S.mark((function t(){return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(u[(e=0,n=u.length,Math.floor(Math.random()*(n-e)+e))]||u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}var e,n}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=E(S.mark((function t(e){var n,r,a,c,u;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.currentNode,r=e.text,n.textContent="",n.classList.add("typing"),a=I(r),t.prev=4,a.s();case 6:if((c=a.n()).done){t.next=25;break}if(u=c.value,n.textContent+=u,!("loop"===o&&n.textContent===r.join(""))){t.next=21;break}return d("done"),t.next=14,v(i);case 14:if(""===n.textContent){t.next=20;break}return n.textContent=n.textContent.slice(0,-1),t.next=18,x();case 18:t.next=14;break;case 20:return t.abrupt("return");case 21:return t.next=23,x();case 23:t.next=6;break;case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(4),a.e(t.t0);case 30:return t.prev=30,a.f(),t.finish(30);case 33:1===n.classList.length&&null!==n.nextSibling?n.removeAttribute("class"):n.classList.remove("typing");case 34:case"end":return t.stop()}}),t,null,[[4,27,30,33]])})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=E(S.mark((function t(){var e,n,r;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"cascade"===o&&p.forEach((function(t){return t.currentNode.textContent=""})),e=I(p),t.prev=2,e.s();case 4:if((n=e.n()).done){t.next=14;break}if(r=n.value,"cascade"!==o){t.next=11;break}return t.next=9,m(r);case 9:t.next=12;break;case 11:m(r);case 12:t.next=4;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(2),e.e(t.t0);case 19:return t.prev=19,e.f(),t.finish(19);case 22:d("done");case 23:case"end":return t.stop()}}),t,null,[[2,16,19,22]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=E(S.mark((function t(){var e,n,a,c,u,s,i;return S.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("loop"!==o){t.next=26;break}e=I(p),t.prev=2,e.s();case 4:if((n=e.n()).done){t.next=16;break}return a=n.value,c=a.currentNode,u=a.text,r.childNodes.forEach((function(t){return t.remove()})),s=c.tagName.toLowerCase(),(i=document.createElement(s)).textContent=u.join(""),r.appendChild(i),t.next=13,m({currentNode:i,text:u});case 13:r.childNodes.forEach((function(t){return t.remove()}));case 14:t.next=4;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(2),e.e(t.t0);case 21:return t.prev=21,e.f(),t.finish(21);case 24:t.next=0;break;case 26:case"end":return t.stop()}}),t,null,[[2,18,21,24]])})));return function(){return t.apply(this,arguments)}}();w((function(){switch(function(t){for(var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),a=e.nextNode();a;){var o=a.textContent.split("");h(a)&&p.push({currentNode:a,text:o}),a=e.nextNode()}if(h(r)){var c=r.textContent.split("");n(1,r.textContent="",r);var u=document.createElement("p");r.appendChild(u),p.push({currentNode:u,text:c})}}(r),o){case"cascade":case"default":b();break;case"loop":y()}})),C((function(){return n(2,o="default")}));var k=e.$$slots,$=void 0===k?{}:k,A=e.$$scope;return t.$set=function(t){"mode"in t&&n(2,o=t.mode),"interval"in t&&n(3,u=t.interval),"loopInterval"in t&&n(4,i=t.loopInterval),"cursor"in t&&n(0,l=t.cursor),"$$scope"in t&&n(5,A=t.$$scope)},[l,r,o,u,i,A,$,function(t){N[t?"unshift":"push"]((function(){n(1,r=t)}))}]}var L=function(e){t(s,u);var n=$(s);function s(t){var e;return r(this,s),e=n.call(this),a(c(e),t,T,j,o,{mode:2,interval:3,loopInterval:4,cursor:0}),e}return s}();export{L as T};
